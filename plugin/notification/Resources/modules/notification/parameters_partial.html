 <div class="panel-heading">
        <h3 class="panel-title">
            <p style="padding: 5px">
                {{ 'notification_user_configuration'|trans:{}:'notification' }}
                <button class="btn btn-primary pull-right" ng-disabled="!notif.isRssEnabled()" style="color: #FFFFFF" href="#" ng-click="">
                     {{ 'rss_url_create'|trans:{}:'notification' }} <i class="fa fa-rss"></i>
                </button>
                <button class="btn btn-primary pull-right disabled" style="color: #FFFFFF" href="#">
                     {{ 'rss_url_subscribe'|trans:{}:'notification' }}
                </button>
                <span ng-if="notif.isAdmin">
                    <i class="fa fa-toggle-on active" ng-if="notif.allowPhoneAndMail == true" ng-click="notif.changeAllowPhoneAndMail()" style="color: #5cb85c; font-size:40px; cursor:pointer"></i>
                    <i class="fa fa-toggle-on fa-rotate-180 inactive" ng-if="notif.allowPhoneAndMail == false" ng-click="notif.changeAllowPhoneAndMail()" style="color: #d9534f; font-size:40px; cursor:pointer"></i>
                </span>
            </p>
        </h3>
 </div>

 <div class="panel-body">
    <uib-tabset active="active" type="pills">
        <uib-tab index="0" heading="{{ 'default_following'|trans:{}:'platform' }}">
            <form id="notification-user-parameters-form"  method="post" class="ng-pristine">
                        <div class="tab-content">
                            <div class="table-responsive">
                                <table id="notification-parameters-types-table" class="table table-striped table-bordered table-condensed table-hover">
                                    <thead>
                                        <tr>
                                            <th style="color: white; background-color: #337ab7">{{'object'|trans:'platform'}}</th>
                                            <th class="text-center" style="color: white; background-color: #337ab7">
                                                {{'notification_platform'|trans:{}:'notification'}}
                                            </th>
                                            <th ng-show="notif.allowPhoneAndMail" class="text-center" style="color: white; background-color: #337ab7">
                                                {{'notification_smartphone'|trans:{}:'notification'}}
                                            </th>
                                            <th ng-show="notif.allowPhoneAndMail"  class="text-center" style="color: white; background-color: #337ab7">
                                                 {{'email'|trans:{}:'notification'}}
                                            </th>
                                            <th class="text-center" style="color: white; background-color: #337ab7">
                                                {{'rss_add'|trans:{}:'notification'}} <i class="fa fa-rss"></i></th>
                                        </tr>
                                    </thead>
                                    <tbody class="types-table-body" ng-repeat="type in notif.types | orderBy: 'translated_group'">

                                            <tr ng-show= "!type.hasParents">
                                                <td ng-click="notif.collapse[type.name] =! notif.collapse[type.name]">
                                                   <strong>
                                                        {{ type.name|trans:{}:'notification'|trans:{}:'resource'|trans:{}:'icap_blog'|trans:{}:'innova_collecticiel'|trans:{}:'icap_dropzone'|trans:{}:'ujm_exo'|trans:{}:'forum'|trans:{}: 'icap_wiki'|trans:'survey' }}
                                                    </strong>
                                                    <i ng-show="type.children.length>0" class="fa" ng-class="{'fa-chevron-right' : notif.collapse[type.name], 'fa-chevron-down' : !notif.collapse[type.name] }" ></i>
                                                </td>
                                                <td class="text-center">
                                                    <span  ng-click='notif.lockedParameters.display[type.name] =! notif.lockedParameters.display[type.name]; notif.lockAll(type,"visible")' ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.display[type.name]">
                                                        <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.display[type.name], 'fa-lock'  :!notif.lockedParameters.display[type.name]}"></i>
                                                    </span> 
                                                    <input type="checkbox"  class="chk-type-visible" value="visible" name="role-change_right[]"  ng-model="notif.editedParameters.newDisplayEnabledTypes[type.name]" ng-click='notif.toggleAll(type,"visible")' />
                                                </td>
                                                <td ng-show="notif.allowPhoneAndMail"  class="text-center">
                                                    <span  ng-click='notif.lockedParameters.phone[type.name] =! notif.lockedParameters.phone[type.name]; notif.lockAll(type,"phone")' ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.phone[type.name]">
                                                        <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.phone[type.name], 'fa-lock'  :!notif.lockedParameters.phone[type.name]}"></i>
                                                    </span> 

                                                    <input type="checkbox" class="chk-type-visible" value="phone" name="role-change_right[]"   ng-model="notif.editedParameters.newPhoneEnabledTypes[type.name]" ng-click='notif.toggleAll(type,"phone")' />
                                                </td>
                                                <td ng-show="notif.allowPhoneAndMail"  class="text-center">
                                                    <span  ng-click='notif.lockedParameters.mail[type.name] =! notif.lockedParameters.mail[type.name]; notif.lockAll(type,"mail") ' ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.mail[type.name]">
                                                        <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.mail[type.name], 'fa-lock'  :!notif.lockedParameters.mail[type.name]}"></i>
                                                    </span> 

                                                    <input type="checkbox" class="chk-type-visible" value="mail" name="role-change_right[]" ng-model="notif.editedParameters.newMailEnabledTypes[type.name]" ng-click='notif.toggleAll(type,"mail")' />
                                                 </td>
                                                 <td class="text-center">
                                                    <span  ng-click='notif.lockedParameters.rss[type.name] =! notif.lockedParameters.rss[type.name]; notif.lockAll(type,"rss")' ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.rss[type.name]">
                                                        <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.rss[type.name], 'fa-lock'  :!notif.lockedParameters.rss[type.name]}"></i>
                                                    </span> 

                                                    <input type="checkbox" class="chk-type-visible" value="rss" name="role-change_right[]" ng-model="notif.editedParameters.newRssEnabledTypes[type.name]" ng-click='notif.toggleAll(type,"rss")' />
                                                 </td>

                                            </tr>


                                        <tr style="background-color:white;" ng-repeat="child in type.children" class="collapse-row" ng-show="notif.collapse[type.name]">

                                            <td>
                                                <div uib-collapse="!notif.collapse[type.name]">
                                                    <div class="collapse-cell">
                                                        {{ child|trans:{}:'notification'|trans:{}:'resource'|trans:{}:'icap_blog'|trans:{}:'innova_collecticiel'|trans:{}:'icap_dropzone'|trans:{}:'ujm_exo'|trans:{}:'forum'|trans:{}: 'icap_wiki'|trans:'survey' }}
                                                    </div>

                                                </div>
                                            </td>
                                             <td class="text-center">
                                                <div uib-collapse="!notif.collapse[type.name]">
                                                    <div class="collapse-cell">
                                                        <span  ng-click="notif.lockedParameters.display[child] =! notif.lockedParameters.display[child]" ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.display[child]" ng-change='notif.optionLock(type,"visible")'>
                                                            <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.display[child], 'fa-lock'  :!notif.lockedParameters.display[child]}"></i>
                                                        </span> 
                                                        <input type="checkbox" class="chk-type-visible" value="visible" name="role-change_right[]"  ng-model="notif.editedParameters.newDisplayEnabledTypes[child]" ng-change='notif.optionToggled(type,"visible")' />
                                                    </div>
                                                </div>
                                            </td>
                                            <td ng-show="notif.allowPhoneAndMail"  class="text-center">
                                                <div uib-collapse="!notif.collapse[type.name]">
                                                    <div class="collapse-cell">
                                                        <span  ng-click="notif.lockedParameters.phone[child] =! notif.lockedParameters.phone[child]" ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.phone[child]" ng-change='notif.optionLock(type,"phone")'>
                                                            <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.phone[child], 'fa-lock'  :!notif.lockedParameters.phone[child]}"></i>
                                                        </span> 
                                                        <input type="checkbox" class="chk-type-visible" value="phone" name="role-change_right[]"   ng-model="notif.editedParameters.newPhoneEnabledTypes[child]" ng-change='notif.optionToggled(type,"phone")' />
                                                    </div>

                                                </div>
                                            </td>
                                            <td ng-show="notif.allowPhoneAndMail"  class="text-center">
                                                <div uib-collapse="!notif.collapse[type.name]">
                                                    <div class="collapse-cell">
                                                       <span  ng-click="notif.lockedParameters.mail[child] =! notif.lockedParameters.mail[child]" ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.mail[child]" ng-change='notif.optionLock(type,"mail")'>
                                                            <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.mail[child], 'fa-lock'  :!notif.lockedParameters.mail[child]}"></i>
                                                        </span> 
                                                        <input type="checkbox" class="chk-type-visible" value="mail" name="role-change_right[]" ng-model="notif.editedParameters.newMailEnabledTypes[child]" ng-change='notif.optionToggled(type,"mail")' />
                                                    </div>

                                                </div>
                                             </td>
                                             <td class="text-center">
                                               <div uib-collapse="!notif.collapse[type.name]">
                                                    <div class="collapse-cell">
                                                        <span  ng-click="notif.lockedParameters.rss[child] =! notif.lockedParameters.rss[child]" ng-show="notif.isAdmin" class="pull-right pointer-hand ng-scope" ng-model="notif.lockedParameters.rss[child]" ng-change='notif.optionLock(type,"rss")'>
                                                            <i   class="fa" ng-class="{'fa-unlock-alt' : notif.lockedParameters.rss[child], 'fa-lock'  :!notif.lockedParameters.rss[child]}"></i>
                                                        </span> 
                                                        <input type="checkbox" class="chk-type-visible" value="rss" name="role-change_right[]" ng-model="notif.editedParameters.newRssEnabledTypes[child]" ng-change='notif.optionToggled(type,"rss")' />
                                                    </div>

                                                </div>
                                             </td>

                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <a class="btn btn-default" href="{{ 'claro_desktop_open' | path:{} }}">
                                {{ 'cancel'|trans:{}:'platform' }}
                            </a>
                            <button type="submit" id="edit-tools-btn"  class="btn btn-primary" ng-click="notif.save()" ng-disabled="!notif.isEditable()">
                                {{ 'Save'|trans:{}:'platform' }}
                            </button>

                        </div>
                </form>
        </uib-tab>
        <uib-tab index="1" heading="{{ 'followed_resources'|trans:{}:'platform' }}">
            <form id="notification-user-parameters-form" action="{{ path('icap_notification_save_user_parameters') }}" method="post">
                         <div class="table-responsive">
                            <table class="table table-striped table-bordered table-condensed">
                                <thead>
                                    <tr>
                                        <th style="background-color: #337ab7">
                                            <a href="#" style="color: #fff"> {{'object'|trans:'platform'}} </a>
                                        </th>
                                        <th style="color: white; background-color: #337ab7">

                                            {{'notification_platform'|trans:{}:'notification'}} <input type="checkbox" ng-checked="hcell.selected" ng-click="hcell.onCheckboxChange()">
                                        </th>

                                        <th style="color: white; background-color: #337ab7">
                                           {{'notification_smartphone'|trans:{}:'notification'}} <input type="checkbox" ng-checked="hcell.selected" ng-click="hcell.onCheckboxChange()" disabled>
                                        </th>

                                        <th style="color: white; background-color: #337ab7">
                                            {{'email'|trans:{}:'notification'}} <input type="checkbox" ng-checked="hcell.selected" ng-click="hcell.onCheckboxChange()" disabled>
                                        </th>

                                        <th style="color: white; background-color: #337ab7">
                                           {{'rss_add'|trans:{}:'notification'}} <i class="fa fa-rss"></i> <input type="checkbox" ng-checked="hcell.selected" ng-click="hcell.onCheckboxChange()">
                                        </th>

                                        <th style="color: white; background-color: #337ab7">
                                             Suivre <input type="checkbox" ng-checked="hcell.selected" ng-click="hcell.onCheckboxChange()">
                                        </th>
                                    </tr>
                                </thead>
                                <tbody class="types-table-body">

                                </tbody>
                            </table>
                        </div>
                        <a class="btn btn-default" href="{{ path('claro_desktop_parameters_menu') }}">
                            {{ 'cancel'|trans:{}:'platform' }}
                        </a>
                        <button type="submit" id="edit-tools-btn" href="{{ path('claro_desktop_parameters_menu') }}" class="btn btn-primary">
                            {{ 'Save'|trans:{}:'platform' }}
                        </button>
                </form>
        </uib-tab>
    </uib-tabset>
 </div>
