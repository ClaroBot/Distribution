<form class="well" id="icap_blog_post_form">

    <legend>{{ 'edit_post' | trans:{'postTitle': vm.blog.fixedTitle}:'icap_blog' }}</legend>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-md-3 required" for="icap_blog_post_form_title">{{ 'icap_blog_post_form_title' | trans:{}:'icap_blog' }}</label>
            <div class="col-md-12">
                <input type="text" id="icap_blog_post_form_title" data-ng-model="vm.blog.currentPost.title" required="required" class="form-control">
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-md-3" for="icap_blog_post_form_publicationDate">{{ 'icap_blog_post_form_publicationDate' | trans:{}:'icap_blog' }}</label>

            <div class="col-md-3">
                <div class="input-group date">
                    <input
                        id="icap_blog_post_form_publicationDate"
                        type="text"
                        class="form-control"
                        uib-datepicker-popup="{{ vm.datepickerFormats[vm.locale] }}"
                        data-ng-model="vm.blog.newPost.publication_date"
                        is-open="vm.datepicker.opened"
                        ng-required="true"
                        close-text="{{ 'close'|trans:{}:'icap_blog' }}"
                        clear-text="{{ 'clear'|trans:{}:'icap_blog' }}"
                        current-text="{{ 'today'|trans:{}:'platform' }}"
                        show-weeks="false"
                        starting-day="vm.firstDayInWeek[vm.locale]"
                        datepicker-template-url="datepicker_template.html"/>
                    <span class="input-group-btn">
                        <button
                            type="button"
                            class="btn btn-default"
                            ng-click="vm.openDatePicker()"><i class="fa fa-calendar"></i></button>
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <div class="form-group">
            <label class="control-label col-md-3 required" for="icap_blog_post_form_content">{{ 'icap_blog_post_form_content' | trans:{}:'icap_blog' }}</label>
            <div class="col-md-12">
                <textarea id="icap_blog_post_form_content" data-ui-tinymce="vm.tinymceOptions" data-ng-model="vm.blog.currentPost.content"></textarea>
            </div>
        </div>
    </div>
    <div class="form-group">
        <label
            class="control-label col-md-3 required"
            data-ng-bind-html="'icap_blog_post_form_tags' | trans:{}:'icap_blog' |trust_html">
        </label>
        <div class="col-md-9">
            <tags-input ng-model="vm.blog.currentPost.tags" placeholder="{{ 'add_tag' | trans:{}:'icap_blog' }}">
                <auto-complete source="vm.getTags($query)"></auto-complete>
            </tags-input>
        </div>
    </div>

    <div class="form-actions">
        <button
            data-ng-disabled="vm.disableButtons"
            data-ng-click="vm.updatePost()"
            type="submit" class="btn btn-primary">{{ 'edit' | trans:{}:'platform' }}</button>
        <button
            data-ng-disabled="vm.disableButtons"
            data-ng-click="vm.cancelEdit()" class="btn btn-danger">{{ 'cancel' | trans:{}:'platform' }}</button>
    </div>
</form>